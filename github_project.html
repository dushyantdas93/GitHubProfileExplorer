<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>github</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
 <!--  <div class="w-full flex flex-wrap justify-evenly text-white mt-7">
        <div class="w-46 flex flex-col items-center mb-12">
            <img id="" src="download.jpeg" alt="" class="w-44  h-44 rounded-3xl">
            <p class="text-3xl font-bold text-white">600+</p>
            <p class="name text-3xl font-bold text-gray-500">Different Course</p>
        </div>
        -->


<div class="max-w-md mx-auto mt-4 bg-white p-8 rounded-md shadow-md">
    <div class="max-w-sm mx-auto bg-white shadow-md rounded-lg overflow-hidden my-4">
        <div class="flex items-center px-6 py-3 bg-gray-800">
            <h1 class="mx-3 text-white font-semibold text-lg">Profile: <span id="login">Dushyantdas93 :<span id="code">14951415</span> </span></h1>
        </div>
        <img id="image" class="w-full h-full object-cover" src="https://avatars.githubusercontent.com/u/149514159?v=4" alt="Profile Image">
        
        <div class="px-6 py-4">
            <h1 id="nameOfUser" class="text-xl font-semibold text-gray-800">Dushyant Das Manikpuri</h1>
            <p  class="py-2 text-gray-700">Followers: <span id="followers">1000</span></p>
            <p  class="py-2 text-gray-700">Bio: <span id="bio">Web developer</span></p>
            <p class="py-2 text-gray-700">City: <span id="city">Web developer</span></p>
        </div>
    </div>
    <form id="form">
        <div class="mb-4">
            <label for="githubUsername" class="block text-gray-700 text-sm font-bold mb-2">Github Username</label>
            <input required type="text" id="githubUsername" name="githubUsername" placeholder="Enter your Github username"
                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
        </div>
        <div class="mb-6 text-center">
            <button id="submit" type="submit"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                Submit
            </button>
        </div>
    </form>
</div>

    
</body>
<script>
//     const form = document.querySelector("#form");
    
//     form.addEventListener('submit', (e)=>{
//         e.preventDefault()
//         // console.log(e.)
//         let username = document.querySelector("#githubUsername")
//         // username. = ''
//         var githubusername = username.value
//         // console.log(githubusername)
//         // console.log(githubusername)
        
//         const requestUrl = `https://api.github.com/users/${githubusername}`
    
//     const xhr = new XMLHttpRequest();
//     xhr.open('GET', requestUrl)
//     xhr.onreadystatechange = function () {
//         // console.log(xhr.readyState);
//         if (xhr.readyState === 4) {
//             const data = JSON.parse(this.responseText)
//            if(data.status == 404){
//             alert("Username not exist")
//            }
//            else{
//             document.querySelector("#login").innerHTML = data.login
//               document.querySelector("#followers").innerHTML = data.followers
//                document.querySelector("#bio").innerHTML = data.bio?data.bio:"Web developer"
            
//            document.querySelector("#nameOfUser").innerHTML = data.name?data.name:data.login
//          const image =   document.querySelector("#image")
//          image.setAttribute('src', data.avatar_url)
            
//            }
// username.value =''
//         }
//     }
//     xhr.send();
// })
    const fetchDataFromGithub = (defaltName) => {
       
        let username = document.querySelector("#githubUsername")
     
        var githubusername = !defaltName?username.value:defaltName;
       
        const requestUrl = `https://api.github.com/users/${githubusername}`

        const xhr = new XMLHttpRequest();
        xhr.open('GET', requestUrl)
        xhr.onreadystatechange = function () {
            // console.log(xhr.readyState);
            if (xhr.readyState === 4) {
                const data = JSON.parse(this.responseText)
                if (data.status == 404) {
                    alert("Username not exist")
                }
                else {
                    document.querySelector("#login").innerHTML = data.login? data.login : "Dushyant Das Manikpuri"
                    document.querySelector("#followers").innerHTML = data.followers? data.followers:0
                    document.querySelector("#bio").innerHTML = data.bio ? data.bio : " You're not add bio"
                    document.querySelector("#city").innerHTML = data.location ? data.location : "You're not add city"

                    document.querySelector("#nameOfUser").innerHTML = data.name ? data.name : data.login
                    const image = document.querySelector("#image")
                    image.setAttribute('src', data.avatar_url)

                }
                username.value = ''
            }
        }
        xhr.send();
        
    }

   fetchDataFromGithub("dushyantdas93");
    const form = document.querySelector("#form");

    form.addEventListener('submit', (e)=>{
               e.preventDefault();
               fetchDataFromGithub();
    } )

 



</script>
</html>